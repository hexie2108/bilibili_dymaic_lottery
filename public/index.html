<html lang="zh">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <link rel="shortcut icon" href="img/favicon.ico">

    <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="css/fontawesome-all.css">
    <link rel="stylesheet" type="text/css" href="style.css">


    <script src="js/jquery-3.5.1.js"></script>

    <script src="js/bootstrap.bundle.js"></script>

    <script src="js/base.js"></script>
    <script src="js/get-user.js"></script>

    <script src="js/start-game.js"></script>




    <title>B站动态转发抽奖系统</title>


</head>
<body>
<div class="container-fluid w-75 mx-auto mt-3 mb-5" style="min-height: 950px">

    <header class="text-center">
        <h2 class="my-3">B站动态转发抽奖系统V2</h2>
        <p>本页面使用 HTML+CSS+JS+Jquery完成, 可以从B站动态中提取出转发过的用户列表, 之后通过自动游戏的方式选出一位中奖者</p>

        <div class="row">

            <form class="form-inline col-12">

                <div class="input-group input-group-lg my-3 mx-auto col-6">
                    <div class="input-group-prepend">
                        <label class="input-group-text" for="dynamic_link">动态地址</label>
                    </div>
                    <input class="form-control " type="text" id="dynamic_link" name="dynamic_link"
                           placeholder="https://t.bilibili.com/xxx"/>
                </div>

                <div class="input-group  input-group-lg  my-3 mx-auto col-3">
                    <div class="input-group-prepend">
                        <label class="input-group-text" for="winner-number">抽选人数</label>
                    </div>
                    <input class="form-control " type="number" id="winner-number" name="winner-number"
                           value="1" min="1"/>
                </div>

                <div class="input-group  input-group-lg  my-3 mx-auto col-3">
                    <div class="input-group-prepend">
                        <label class="input-group-text" for="level-filter">最低等级</label>
                    </div>
                    <input class="form-control " type="number" id="level-filter" name="level-filter" value="1" min="1"
                        max="6"/>
                </div>

            </form>


            <div class="col-12 row my-3">
                <div class="col-6">
                    <button id="" class="get-button btn btn-primary  w-75 btn-lg">获取转发用户</button>
                </div>
                <div class="col-6">
                    <button id="" class="start-button btn btn-info w-75  btn-lg" disabled>开始抽选</button>
                </div>

            </div>


        </div>

        <div  class="text-danger text-center">
            注意: 因为B站的API接口限制, 只支持转发次数550次以下的动态, 超过550次以上的转发记录无法全部获取
        </div>


    </header>

    <hr/>

    <div class="user-count row" style="display: none">
        <div class="col text-center">
            全部用户数 <span class="badge badge-info"></span>
        </div>
        <div class="col text-center">
            过滤重复后 <span class="badge badge-info"></span>
        </div>
        <div class="col text-center">
            过滤最低等级后 <span class="badge badge-info"></span>
        </div>

    </div>

    <div class="user-list row justify-content-center">


    </div>


</div>

<!--底部-->
<div class="my-5 text-center">
    <h4>@河蟹 | <a href="https://www.mikuclub.org">初音社</a> | Github仓库地址 <a
            href="https://github.com/hexie2108/bilibili_dynamic_lottery">bilibili_dynamic_lottery</a></h4>
</div>

<!--模态窗口-->
<div class="modal" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard=false>
    <div class="modal-dialog mt-5">
        <div class="modal-content">

            <div class="modal-body text-center p-5">
                <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
                    <span class="sr-only">Loading...</span>
                </div>
            </div>
        </div>
    </div>
</div>

<!--轻量弹窗-->
<div class="toast toast1 position-fixed mt-3 mr-3" style="right: 0; top: 0; min-width: 300px" role="alert" aria-live="assertive" aria-atomic="true" data-delay="3000">
    <div class="toast-header">
        <h4 class="toast-title mr-auto my-auto text-danger">错误</h4>
        <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <h5 class="toast-body my-auto ">
    </h5>
</div>
<div class="toast toast2 position-fixed mt-3 mr-3" style="right: 0; top: 0; min-width: 300px" role="alert" aria-live="assertive" aria-atomic="true" data-autohide="false">
    <div class="toast-header">
        <h4 class="toast-title mr-auto my-auto text-success"></h4>
        <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <h5 class="toast-body my-auto ">
    </h5>
</div>


</body>
</html>
