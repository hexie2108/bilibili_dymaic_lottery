<html lang="zh">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <link rel="shortcut icon" href="img/favicon.ico">

    <link rel="stylesheet" type="text/css" href="https://cdn.staticfile.org/bootstrap/5.3.1/css/bootstrap.min.css">
    <!-- <link rel="stylesheet" type="text/css" href="https://cdn.staticfile.org/font-awesome/5.15.3/css/all.min.css"> -->
    <link rel="stylesheet" type="text/css" href="style.css?ver=7">
    <!-- <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css"> -->


    <script src="https://cdn.staticfile.org/jquery/3.7.1/jquery.min.js"></script>
    <!-- <script src="js/jquery.min.js"></script> -->
    <script src="https://cdn.staticfile.org/bootstrap/5.3.1/js/bootstrap.bundle.min.js"></script>
    <!-- <script src="js/bootstrap.bundle.min.js"></script> -->


    <script src="js/base.js?ver=7"></script>
    <script src="js/get-user.js?ver=7"></script>

    <script src="js/start-game.js?ver=7"></script>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1442793010183347"
        crossorigin="anonymous"></script>


    <title>B站动态在线抽奖系统V7 | 初音社</title>


</head>

<body>
    <div class="container-fluid w-75 mx-auto mt-3 mb-5" style="min-height: 950px">

        <header class="text-center">
            <div class="mt-5"></div>
            <h2 class="my-3">B站动态在线抽奖系统V7 | <a href="https://space.bilibili.com/277257" target="_blank"
                    title="初音社">@初音社</a></h2>
            <p>本网页程序可以从B站动态中提取出转发/点赞/评论过的用户列表, 然后通过随机方式选出中奖者 (2023年12月28日更新) </p>

            <div class="row">

                <form class="col-12">

                    <div class="row gy-3">
                        <div class="col-12">
                            <div class="input-group  input-group-lg ">
                                <label class="input-group-text d-none d-sm-block" for="dynamic_link">动态地址</label>
                                <input class="form-control " type="text" id="dynamic_link" name="dynamic_link"
                                    placeholder="例子: https://www.bilibili.com/opus/794288535874043936" />
                            </div>
                            <div class="text-start small text-muted mt-1">请用网页电脑端复制动态地址, 不支持从手机APP里复制</div>
                        </div>

                        <div class="col-6">
                            <div class="input-group  input-group-lg">

                                <label class="input-group-text" for="winner-number">抽选人数</label>

                                <input class="form-control " type="number" id="winner-number" name="winner-number"
                                    value="1" min="1" />
                            </div>
                        </div>

                        <div class="col-6">
                            <div class="input-group  input-group-lg">

                                <label class="input-group-text" for="level-filter">最低等级</label>

                                <input class="form-control " type="number" id="level-filter" name="level-filter"
                                    value="1" min="1" max="6" />
                            </div>

                        </div>


                        <div class="col-12">
                            <div class="text-start border rounded" style="font-size: 1.25em">

                                <div class="px-3 p-2 border-end d-xxl-inline-block text-center"
                                    style="background-color: #e9ecef;">
                                    用户类型
                                </div>

                                <div class="form-check form-check-inline m-2">
                                    <input class="form-check-input" type="radio" name="user_type" id="user_type_2"
                                        value="comment" checked>
                                    <label class="form-check-label" for="user_type_2">
                                        评论用户
                                    </label>
                                </div>

                                <div class="form-check form-check-inline m-2">
                                    <input class="form-check-input" type="radio" name="user_type" id="user_type_1"
                                        value="forward">
                                    <label class="form-check-label" for="user_type_1">
                                        转发用户 (只能获取到最后300名转发+点赞)
                                    </label>
                                </div>

                                <div class="form-check form-check-inline m-2">
                                    <input class="form-check-input" type="radio" name="user_type" id="user_type_3"
                                        value="like">
                                    <label class="form-check-label" for="user_type_1">
                                        点赞用户 (只能获取到最后300名转发+点赞)
                                    </label>
                                </div>



                            </div>

                        </div>
                        <div class="col-12">

                            <div class="text-start" style="font-size: 1.25em">
                                <div class="text-info">
                                    注意1: 动态数据的获取速度会比较慢, 大约<strong>每1秒</strong>只能获取<strong>20-40条</strong>用户记录, 请耐心等待
                                </div>
                                <div class="text-warning">
                                    注意2: 转发/点赞用户 无法使用最低等级过滤器.
                                </div>
                                <div class="text-secondary">
                                    注意3: 评论用户 只会获取直接回复的用户, 楼中楼的子评论不在获取范围,.
                                </div>
                                <div class="text-danger">
                                    注意4: 如果提示登陆凭证过期/失效, 请联系管理员更新凭证.
                                </div>
                            </div>

                        </div>

                    </div>

                </form>

                <div class="col-12 my-3">
                    <div class="row">
                        <script async
                            src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1442793010183347"
                            crossorigin="anonymous"></script>
                        <!-- B站抽奖广告 -->
                        <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1442793010183347"
                            data-ad-slot="5515977879" data-ad-format="auto" data-full-width-responsive="true"></ins>
                        <script>
                            (adsbygoogle = window.adsbygoogle || []).push({});
                        </script>

                    </div>


                </div>

                <div class="col-12 ">

                    <div class="row gy-3 justify-content-center">

                        <div class="col-12 col-sm-4">
                            <button id="" class="get-button btn btn-secondary  w-100 btn-lg">1. 加载用户列表</button>
                        </div>
                        <div class="col-12 col-sm-4">
                            <button id="" class="start-button btn btn-primary w-100  btn-lg" disabled>2. 开始抽选</button>
                        </div>
                    </div>

                </div>


            </div>


        </header>

        <hr />

        <div class="user-count row my-2" style="display: none">
            <div class="col text-center">
                全部用户数 <span class="badge bg-info"></span>
            </div>
            <div class="col text-center">
                过滤不符合条件后 <span class="badge bg-info"></span>
            </div>
            <div class="col text-center">
                过滤最低等级后 <span class="badge bg-info"></span>
            </div>

        </div>

        <div class="user-list row row-cols-1 row-cols-md-3 row-cols-xxl-6  g-2">


        </div>


    </div>

    <!--底部-->
    <div class="my-5 text-center">
        <div> <a href="https://www.mikuclub.cc">初音社网站</a> | Github源码地址 <a
                href="https://github.com/hexie2108/bilibili_dynamic_lottery">bilibili_dynamic_lottery</a></div>
    </div>

    <!--模态窗口-->
    <div class="modal" tabindex="-1" role="dialog" data-bs-backdrop="static" data-bs-keyboard=false>
        <div class="modal-dialog mt-5">
            <div class="modal-content">

                <div class="modal-body text-center p-5">
                    <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--轻量弹窗-->
    <div class="toast toast1 position-fixed mt-3 me-3" style="right: 0; top: 0; min-width: 300px" role="alert"
        aria-live="assertive" aria-atomic="true" data-bs-delay="3000">
        <div class="toast-header">
            <h4 class="toast-title me-auto my-auto text-danger">错误</h4>
            <button type="button" class="ms-2 mb-1 btn-close" data-bs-dismiss="toast" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <h5 class="toast-body my-auto ">
        </h5>
    </div>
    <div class="toast toast2 position-fixed mt-3 me-3" style="right: 0; top: 0; min-width: 300px" role="alert"
        aria-live="assertive" aria-atomic="true" data-bs-autohide="false">
        <div class="toast-header">
            <h4 class="toast-title me-auto my-auto text-success"></h4>
            <button type="button" class="ms-2 mb-1 btn-close" data-dismiss="toast" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <h5 class="toast-body my-auto ">
        </h5>
    </div>


</body>

</html>